"use strict";(self.webpackChunkadmin_dashboard_template_dashwind=self.webpackChunkadmin_dashboard_template_dashwind||[]).push([[375],{2782:function(e,t,n){var a=n(3547),r=n(184);t.Z=function(e){var t=e.title,n=e.children,s=e.topMargin,i=e.TopSideButtons;return(0,r.jsxs)("div",{className:"card w-full p-6 bg-base-100 shadow-xl "+(s||"mt-6"),children:[(0,r.jsxs)(a.Z,{styleClass:i?"inline-block":"",children:[t,i&&(0,r.jsx)("div",{className:"inline-block float-right",children:i})]}),(0,r.jsx)("div",{className:"divider mt-2"}),(0,r.jsx)("div",{className:"h-full w-full pb-6 bg-base-100",children:n})]})}},1878:function(e,t,n){n.d(t,{Z:function(){return d}});var a=n(4165),r=n(5861),s=n(9439),i=n(2791),l=n(6887),c=n(9396),o=n(184);function d(e){var t=e.url,n=e.results,d=(e.isNoData,(0,i.useState)("")),u=(0,s.Z)(d,2),h=u[0],x=u[1],f=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log(t,"uel"),h){e.next=4;break}return e.abrupt("return");case 4:return r=localStorage.getItem(l.i.TOKEN_DETAIL),e.next=7,c.A.postData(t,{query:h},r);case 7:if(!(s=e.sent).error){e.next=10;break}throw s;case 10:n(s.data.data),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),n([]);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return(0,o.jsxs)("div",{style:{padding:10,marginBottom:10,borderRadius:5,borderWidth:1,borderColor:"grey",display:"flex",justifyContent:"space-between"},children:[(0,o.jsx)("input",{className:"searchInput",type:"text",placeholder:"Search name",value:h,onChange:function(e){""===e.target.value&&n([]),x(e.target.value)},style:{width:"80%",paddingLeft:20,fontWeight:"500",borderStyle:"none",border:0}}),(0,o.jsx)("button",{className:"btn px-6 btn-sm normal-case btn-primary",onClick:f,children:"Search"})]})}},3547:function(e,t,n){var a=n(184);t.Z=function(e){var t=e.styleClass,n=e.children;return(0,a.jsx)("div",{className:"text-xl font-semibold ".concat(t),children:n})}},1375:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var a=n(2791),r=n(9434),s=n(5054),i=n(4165),l=n(5861),c=n(9439),o=n(2782),d=n(9085),u=(n(5462),n(6041)),h=n(6887),x=n(9396),f=n(8060),p=n(9313),v=n(6048),b=n.n(v),m=(n(2668),n(1878)),g=n(184),j=function(){var e=(0,r.I0)();return(0,g.jsx)("div",{className:"inline-block float-right",children:(0,g.jsx)("button",{className:"btn px-6 btn-sm normal-case btn-primary",onClick:function(){e((0,f.h7)({title:"Add New News",bodyType:p.MODAL_BODY_TYPES.NEWS_ADD_MODAL,size:"lg"}))},children:"Add New"})})},N=0;var w=function(){var e=(0,r.I0)(),t=(0,a.useState)([]),n=(0,c.Z)(t,2),s=n[0],v=n[1],w=(0,a.useState)([]),E=(0,c.Z)(w,2),_=E[0],k=E[1],D=(0,a.useState)(1),S=(0,c.Z)(D,2),A=S[0],y=(S[1],(0,a.useState)(10)),T=((0,c.Z)(y,1)[0],(0,a.useState)(1)),Z=(0,c.Z)(T,2),C=(Z[0],Z[1]);(0,a.useEffect)((function(){L(A)}),[]);var L=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(t){var n,a,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem(h.i.TOKEN_DETAIL),e.next=4,x.A.getData(u.i.GET_NEWS,n,{page:t});case 4:if(a=e.sent,console.log(a,"ss"),200!=a.data.status){e.next=12;break}k(null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.data.news),N=null===a||void 0===a?void 0:a.data.data.pagination.totalPages,C(null===a||void 0===a?void 0:a.data.data.pagination.page),e.next=13;break;case 12:throw a;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(t,n){var a,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem(h.i.TOKEN_DETAIL),e.next=4,x.A.postData(u.i.DELETE_UPDATE_NEWS,{id:t.id},a);case 4:if(200===(r=e.sent).data.status){e.next=7;break}throw r;case 7:k((function(e){return e.map((function(e,t){return t===n&&(e.is_delete=e.is_delete?0:1),e}))})),(0,d.Am)("Delete Status Updated Successfully"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),(0,d.Am)("News not deleted"),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(t,n){var a,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem(h.i.TOKEN_DETAIL),e.next=4,x.A.postData(u.i.UPDATE_NEWS_STATUS,{id:t.id},a);case 4:if(200===(r=e.sent).data.status){e.next=7;break}throw r;case 7:k((function(e){return e.map((function(e,t){return t===n&&(e.is_active=e.is_active?0:1),e}))})),(0,d.Am)("News Status Changed"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),(0,d.Am)("News Status not Changes"),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(o.Z,{title:"All News",topMargin:"mt-2",TopSideButtons:(0,g.jsx)(j,{}),children:[(0,g.jsx)(m.Z,{url:u.i.SEARHC_NEWS,results:function(e){return v(e)}}),(0,g.jsx)("div",{className:"overflow-x-auto w-full",children:(0,g.jsxs)("table",{className:"table w-full",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"Title"}),(0,g.jsx)("th",{children:"Publised date"}),(0,g.jsx)("th",{children:"Activity"}),(0,g.jsx)("th",{children:"Delete"}),(0,g.jsx)("th",{children:"Actions"})]})}),(0,g.jsx)("tbody",{children:(0==s.length?_:s).length>0&&(0==s.length?_:s).map((function(t,n){return(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:(0,g.jsx)("div",{className:"flex items-center space-x-3",children:(0,g.jsx)("div",{children:(0,g.jsx)("div",{className:"font-bold",children:t.title})})})}),(0,g.jsx)("td",{children:(0,g.jsx)("div",{className:"flex items-center space-x-3",children:(0,g.jsxs)("div",{children:[new Date(t.created_at).getFullYear(),"-",new Date(t.created_at).getMonth(),"-",new Date(t.created_at).getDate()]})})}),(0,g.jsx)("td",{children:(0,g.jsx)("button",{className:"btn btn-square btn-ghost",onClick:function(){return O(t,n)},children:(0,g.jsx)("td",{style:{color:t.is_active?"green":"red"},children:t.is_active?"ACTIVE":"InActive"})})}),(0,g.jsx)("td",{children:(0,g.jsx)("button",{className:"btn btn-square btn-ghost",onClick:function(){return I(t,n)},children:(0,g.jsx)("td",{style:{color:t.is_delete?"green":"red"},children:t.is_delete?"DELETED":"DELETE"})})}),(0,g.jsx)("td",{children:(0,g.jsx)("button",{className:"btn btn-square btn-ghost",onClick:function(){return e((0,f.h7)({title:"Edit News",bodyType:p.MODAL_BODY_TYPES.EDIT_NEWS_MODAL,extraObject:t}))},children:(0,g.jsx)("td",{style:{color:"green"},children:"Edit"})})})]},n)}))})]})})]}),0==s.length&&(0,g.jsx)(b(),{onPageChange:function(e){var t=e.selected;C(t+1),L(t+1)},pageCount:N,previousLabel:"Prev",nextLabel:"Next",containerClassName:"pagination",pageLinkClassName:"page-number",previousLinkClassName:"page-number",nextLinkClassName:"page-number",activeLinkClassName:"active"}),(0,g.jsx)(d.Ix,{})]})};var E=function(){var e=(0,r.I0)();return(0,a.useEffect)((function(){e((0,s.Iw)({title:"News"}))}),[]),(0,g.jsx)(w,{})}},2668:function(){}}]);
//# sourceMappingURL=375.8c0b3ffc.chunk.js.map